<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom Cursor Assets</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header>
    <img src="../logo.png" alt="Logo" class="logo">
    <h1>Custom Cursor Assets Files</h1>
  </header>

  <main>
    <p class="description">Click below to download your file.</p>
    <!-- <a href="../assets/CUSTOM-CURSOR-ASSETS.zip" download class="download-btn">⬇ Download File</a> -->
    <a id="downloadLink" href="/assets/CUSTOM-CURSOR-ASSETS.zip" download class="download-btn">⬇ Download File</a>
    <br><br>
    <a href="../" class="back-link">← Back to Files</a>
  </main>

  <footer>
    <div class="social-links">
      <a href="https://web.facebook.com/charlesikpe.dev" target="_blank"><i class="fab fa-facebook-f"></i></a>
      <a href="https://twitter.com/i_robbott" target="_blank"><i class="fab fa-twitter"></i></a>
      <a href="https://instagram.com/i_robbott" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://tiktok.com/@robbott.dev" target="_blank"><i class="fab fa-tiktok"></i></a>
      <a href="https://youtube.com/@iRobbott" target="_blank"><i class="fab fa-youtube"></i></a>
      <a href="https://linkedin.com/in/charles-ikpe" target="_blank"><i class="fab fa-linkedin"></i></a>
    </div>
  </footer>


  <script>
    (function(){
      const link = document.getElementById('downloadLink');
    
      link.addEventListener('click', function (e) {
        // Build minimal payload
        const payload = {
          filename: 'CUSTOM-CURSOR-ASSETS.zip',
          ts: new Date().toISOString()
        };
    
        const url = '/log-download'; // server endpoint (must be same origin or CORS-enabled)
    
        const blob = new Blob([JSON.stringify(payload)], { type: 'application/json' });
    
        // Use sendBeacon if available (works well when leaving page)
        if (navigator.sendBeacon) {
          navigator.sendBeacon(url, blob);
          // allow default action (download)
          return true;
        }
    
        // Fallback: fire-and-forget fetch (do not block navigation)
        fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
          keepalive: true // helps for background sending in some browsers
        }).catch((err) => {
          // ignore errors silently
          console.debug('log failed', err);
        });
    
        // allow default action (download)
        return true;
      }, { passive: true });
    })();
  </script>
</body>

</html>



